
process fakeL1CaloTest = {

   include "FWCore/MessageLogger/data/MessageLogger.cfi"

   source = EmptySource {
   	untracked int32 maxEvents = 10
   }       

   # Trigger configuration
   include "L1Trigger/L1ScalesProducers/data/L1Scales.cfi"
   include "L1Trigger/L1ScalesProducers/data/L1ScalesRecords.cff"

   # Fake RCT
   module fakeRct = FakeGctInputProducer {
	untracked int32 regionMode = 2
	untracked int32 isoEmMode = 2
	untracked int32 nonIsoEmMode = 2
   }

   # GCT
   module L1GctEmuDigis = L1GctEmulator { 
   	InputTag inputLabel = fakeRct
  	// path to jet LUT ASCII file
  	FileInPath jetEtLutFile = "L1Trigger/GlobalCaloTrigger/data/defaultJetEtCalibrationLut.dat"
   }

   # fake RCT-GCT analyzer
   module test = FakeGctInputTester {
   }

   # GCT Monitor
   include "DQM/GCTMonitor/data/gctMonitor.cfi"
   service = DaqMonitorROOTBackEnd{}
   include "DQMServices/Daemon/test/data/dqm_monitorDaemon.cfi"

   path p ={ fakeRct, L1GctEmuDigis, test, gctmonitor }

   # write out Root file
   module outputEvents = PoolOutputModule
   {
      untracked string fileName = "fakeL1CaloTest.root"
   }

   endpath outpath = { outputEvents }

}

