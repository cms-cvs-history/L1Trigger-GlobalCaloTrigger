
process L1CaloEmuDigis  = {

     source = PoolSource {
	untracked vstring fileNames = {
         '/store/RelVal/2007/4/10/RelVal131QCD_pt80_120-DIGI-RECO/0000/5AFD894C-25E8-DB11-9013-000E0C4D3C49.root',
         '/store/RelVal/2007/4/10/RelVal131QCD_pt80_120-DIGI-RECO/0000/D6E48B46-25E8-DB11-ABB8-00304885BEF8.root'
       }
	untracked int32  maxEvents = 10
     }

    # create L1 Calo digis
    include "L1Trigger/GlobalCaloTrigger/data/L1CaloEmuDigis.cff"
    #replace L1GctEmuDigis.useOrcaJetCalibration = true


    # create l1extra
    include "L1Trigger/L1ExtraFromDigis/data/l1extraParticles.cfi"
    replace l1extraParticles.produceMuonParticles = false

    # Configure the GCT Monitor
    include "DQM/GCTMonitor/data/gctMonitor.cff"

    replace gctmonitor.l1eCentralJetsSource = l1extraParticles:Central
    replace gctmonitor.l1eForwardJetsSource = l1extraParticles:Forward
    replace gctmonitor.l1eTauJetsSource     = l1extraParticles:Tau
    replace gctmonitor.l1eEtMissSource      = l1extraParticles
    replace gctmonitor.l1eIsoEmSource       = l1extraParticles:Isolated
    replace gctmonitor.l1eNonIsoEmSource    = l1extraParticles:NonIsolated

    path p = { L1CaloEmuDigis, l1extraParticles, gctmonitor }

    # write out Root file
    module outputEvents = PoolOutputModule
    {
	untracked vstring outputCommands =
	{
	    "drop *",
	    "keep *_ecalTriggerPrimitiveDigis_*_*",
	    "keep *_hcalTriggerPrimitiveDigis_*_*",
	    "keep *_l1GctEmulDigis_*_*",
	    "keep *_l1RctEmulDigis_*_*",
	    "keep *_l1ExtraCaloParticles_*_*"
	}
       untracked string fileName = "l1CaloExample.root"
    }

    endpath outpath = { outputEvents }

}
