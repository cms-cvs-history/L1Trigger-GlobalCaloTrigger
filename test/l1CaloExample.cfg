process L1CaloEmuDigis  = {

   # Read the digitised events from a root file
   #
    source = PoolSource {
	untracked vstring fileNames = {

	# l1CaloExample single pions
 	"file:l1CaloExProd.root" 

	}
	untracked int32  maxEvents = 20
    }

   # create L1 Calo digis
   include "L1Trigger/GlobalCaloTrigger/data/L1CaloEmuDigis.cff"

   # create L1Extra particles
   include "L1Trigger/GlobalCaloTrigger/data/L1ExtraCaloParticles.cff"

   # Include the GCT Monitor DQM package
#   include "DQM/GCTMonitor/data/gctMonitor.cfi"
#   service = DaqMonitorROOTBackEnd{}
#   include "DQMServices/Daemon/test/data/dqm_monitorDaemon.cfi"

   # uncomment one of this line (and comment the one after) if you don't want the GCTMonitor
   path p1 = { L1CaloEmuDigis, L1ExtraCaloParticles }
#    path p ={L1CaloEmuDigis, L1ExtraCaloParticles, gctmonitor}


   # write out Root file
   module outputEvents = PoolOutputModule
   {
	untracked vstring outputCommands =
	{
	    "drop *",
	    "keep *_L1GctEmuDigis_*_*",
	    "keep *_L1RCTRegionSumsEmCands_*_*",
	    "keep *_L1ExtraCaloParticles_*_*",
	    "keep *_hcalTriggerPrimitiveDigis_*_*",
	    "keep *_ecalTriggerPrimitiveDigis_*_*"
	}
      untracked string fileName = "l1CaloExample.root"
   }

   endpath outpath = { outputEvents }

}

